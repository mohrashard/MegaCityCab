<!DOCTYPE html>
<html>
    <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/passenger.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
     integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" 
     crossorigin="anonymous" referrerpolicy="no-referrence">
    <link rel="website icon" href="images/megacitycablogo.png" type="png">
    <title>Mega City Cab | Passenger </title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    



  
        <style>

        .account ul {
    list-style-type: none; 
    padding: 0;
    margin: 0; 
}

.account li {
    display: inline; 
    margin-right: 15px; 
}

.account i {
    color: #fcca03; 
    text-decoration: none; 
    transition: color 0.3s; 
}

.account i:hover {
    color: white;
}
.error-message {
    color: red;             
    margin-top: 10px;      
    background-color: #ffe6e6; 
    border: 1px solid red;  
    padding: 10px;         
    border-radius: 5px;    
    display: none;          
    text-align: center;
}

    </style>

    
    </head>
    
    
    <body>
        
            <header>
        
    <div class="header" >
        <div class="logo">
            <img src="images/megacitycablogo.png" alt="">

        </div>
        <div class="bar">
            <i class="fa-solid fa-bars"></i>
            <i class="fa-solid fa-xmark" id="hdcross"></i>
        </div>
        <div class="nav">
            <ul>
        
                
                <li><a href="reservation.php">Reservations</a></li>
                <li><a href="events.php">Events & Promotions</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="contactus.php">Contact Us</a></li>
             
            </ul>
        </div>
        <div class="account">
            <ul>
            
              
             
                
                <li id="iconWrapper">
                    <a href="index.html">
                        <i class="fa-solid fa-home" id="user-lap"></i>
                    </a>
                </li>
            </ul>
        </div>
       
        
    </div>
</header>
        
        
        
    <div class="container1">
  <h1>Sign Up</h1>
  <form id="signupForm" method="post">
    <div class="form-group">
      <label for="fullName">Full Name</label>
      <input type="text" id="fullName" name="fullName" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" required>
    </div>
    <div class="form-group">
      <label for="phone">Phone</label>
      <input type="tel" id="phone" name="phone" required>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" name="password" required>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Confirm Password</label>
      <input type="password" id="confirmPassword" name="confirmPassword" required>
    </div>
    <div class="form-group">
      <label for="nic">NIC</label>
      <input type="text" id="nic" name="nic" required>
    </div>
    <div class="form-group">
      <label for="address">Address</label>
      <textarea id="address" name="address" rows="3" required></textarea>
    </div>
    <button type="submit">Sign Up</button>
    <div class="error-message" id="error-message" style="color: red; display: none; margin-top: 10px;"></div>

  </form>
  <p style="margin-top: 50px;">Already have an account? <a href="login.html" class="login-link">Log In</a></p>
</div>
        <div id="message"style="display: none;" >Passenger Registration Successful!</div>

        
        
        
        
        
        
        
          <div class="container">
    <div class="logo2">
      <img src="images/megacitycablogo.png" alt="" >
    </div>
    <div class="column">
      <h3 style="color:#f8d161;">Our Legacy</h3>
      <p style="color: #fff;">Founded in 2025, Mega City Cab is committed to providing reliable and comfortable transportation. We ensure that every ride is smooth, safe, and efficient, making every journey a hassle-free experience for our passengers.</p>
    </div>
    <div class="column">
      
      <a href="about.html">About Us</a>
      <a href="contactus.php">Contact Us</a>
      <a href="admin_login.html">Claim Admin</a>
    </div>
   
  
   <div class="footer">
  <p style="color: #fff;">&copy; Mega City Cab. All Rights Reserved.</p>
</div>
  </div>
        
         <script>
$(document).ready(function() {
    $('#signupForm').on('submit', function(event) {
        event.preventDefault(); 
        
      
        let phone = $('#phone').val().trim();
        let password = $('#password').val();
        let confirmPassword = $('#confirmPassword').val();
        let nic = $('#nic').val().trim();

        let errorMessage = "";
        let errorContainer = $("#error-message");

        errorContainer.hide();

        
        let phonePattern = /^07\d{8}$/;
        if (!phonePattern.test(phone)) {
            errorMessage = "Invalid Sri Lankan phone number";
        } 
        
        else if (!/^(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(password)) {
            errorMessage = "Password must be at least 8 characters long and contain at least 1 special character.";
        } 
        
        else if (password !== confirmPassword) {
            errorMessage = "Passwords do not match";
        } 
       
        else if (!/^(\d{9}[Vv]|[0-9]{12})$/.test(nic)) {
            errorMessage = "Invalid Sri Lankan NIC number";
        }

        if (errorMessage !== "") {
            errorContainer.html(errorMessage);
            errorContainer.show(); 
        } else {
            errorContainer.hide(); 
            
            
            var formData = $(this).serialize();
            $.post('passengerSignup', formData, function(response) {
                $('#message').text(response.message);
                $('#message').fadeIn(300).delay(2000).fadeOut(300, function() {
                    location.reload();
                });
            });
        }
    });
});



    </script>
        
        
        
    </body>
</html>
